데이터 중복 줄이고 이상현상(Anomaly) 방지하려고 함

---

### 이상현상(Anomaly)

나쁜 예시 - 중복 있는 테이블:

|id|name|dept|dept_phone|
|---|---|---|---|
|1|철수|개발팀|1234|
|2|영희|개발팀|1234|
|3|민수|기획팀|5678|

- **삽입 이상**: 부서만 추가하고 싶은데 사람 없으면 못 넣음
- **수정 이상**: 개발팀 번호 바뀌면 여러 행 다 수정해야 함
- **삭제 이상**: 민수 지우면 기획팀 정보도 사라짐

---

### 1NF (제1정규형)

각 컬럼에 값 하나만 (원자값)

❌ 잘못된 예

|id|phone|
|---|---|
|1|010-1234, 010-5678|

⭕ 수정

|id|phone|
|---|---|
|1|010-1234|
|1|010-5678|

---

### 2NF (제2정규형)

1NF + 부분 종속 제거

PK가 2개 이상일 때, PK 일부만으로 알 수 있는 컬럼이 있으면 안 됨

❌ 잘못된 예 (PK: 학생id + 과목)

|학생id|과목|학생이름|성적|
|---|---|---|---|
|1|수학|철수|90|
|1|영어|철수|80|
|2|수학|영희|85|

**각 컬럼을 알려면 뭐가 필요?**

- 성적 90점 → 학생id + 과목 둘 다 필요 ✅
- 학생이름 철수 → 학생id만 있으면 됨 ❌

학생이름은 PK 일부(학생id)만으로 알 수 있음 → **부분 종속** → 철수가 중복됨

⭕ 테이블 분리

학생 테이블:

|학생id|학생이름|
|---|---|
|1|철수|
|2|영희|

수강 테이블:

|학생id|과목|성적|
|---|---|---|
|1|수학|90|
|1|영어|80|
|2|수학|85|

---

### 3NF (제3정규형)

2NF + 이행 종속 제거

PK → A → B 처럼 거쳐서 알 수 있는 컬럼이 있으면 안 됨

❌ 잘못된 예

|학생id|학과|학과장|
|---|---|---|
|1|컴공|김교수|
|2|컴공|김교수|
|3|경영|박교수|

**각 컬럼을 알려면?**

- 학과 → 학생id로 알 수 있음
- 학과장 → 학과로 알 수 있음

학생id → 학과 → 학과장 → **이행 종속** → 김교수가 중복됨

⭕ 테이블 분리

학생 테이블:

|학생id|학과|
|---|---|
|1|컴공|
|2|컴공|
|3|경영|

학과 테이블:

|학과|학과장|
|---|---|
|컴공|김교수|
|경영|박교수|

---

### 정리

|단계|핵심|
|---|---|
|1NF|원자값|
|2NF|부분 종속 제거 (PK 일부로 알 수 있는 것 분리)|
|3NF|이행 종속 제거 (PK → A → B 분리)|