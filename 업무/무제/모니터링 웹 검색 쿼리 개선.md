현재까지 적용된 개선:

## 적용 완료

|항목|상태|효과|
|---|---|---|
|비동기 분리 (search/stats)|✅ 완료|27초 → 0.5초 (테이블 먼저 표시)|
|Caffeine 캐싱|✅ 코드 완료|동일 조건 재검색 시 0.01초|

---

## 추가 개선 가능한 것들

|방법|효과|난이도|설명|
|---|---|---|---|
|**커버링 인덱스 추가**|stats 20초 → 4초|⭐⭐|DB 인덱스에 CNT_SEGMENT, CLEARED_COUNT 추가|
|**일별 집계 테이블**|stats 20초 → 0.01초|⭐⭐⭐|배치로 일별 통계 미리 계산|
|**Redis 캐싱**|동일 조건 0.01초|⭐⭐|Caffeine 대신 분산 캐시|
|**날짜 범위 제한**|강제 7일 이하|⭐|UI에서 30일 이상 막기|
|**ElasticSearch**|전체 0.1초|⭐⭐⭐⭐|로그 검색 전용 DB|

---

## 가장 효과적인 추가 개선: 커버링 인덱스

```sql
-- 현재 인덱스
INDEX_01 (MESSAGE_FRONT_RECEIVED_TIME, FLIGHT_NO, MESSAGE_DATE, HOST_CODE, RESULT_TYPE)

-- 개선된 인덱스 (CNT_SEGMENT, CLEARED_COUNT 추가)
CREATE INDEX idx_stats_covering ON IAPP_MESSAGES (
  MESSAGE_FRONT_RECEIVED_TIME, 
  SERVER_NAME, 
  RESULT_TYPE,
  CNT_SEGMENT,      -- 추가
  CLEARED_COUNT     -- 추가
);
```

이렇게 하면 stats 쿼리도 **인덱스만으로 처리** 가능 → 20초 → 4초

운영 DB에 인덱스 추가가 가능하면 이게 가장 효과적입니다. 적용할까요?