


| #   | ì»¬ëŸ¼            | í•„ë“œ                 | ë°ì´í„° ì†ŒìŠ¤                       | í‚¤/API                                                                                   |
| --- | ------------- | ------------------ | ---------------------------- | --------------------------------------------------------------------------------------- |
| 1   | Service       | `service`          | -                            | ì„œë¹„ìŠ¤ëª… (1A1, 1N ë“±)                                                                        |
| 2   | Type          | `type`             | ë¡œì§ íŒë‹¨                        | xaAMR Task + Handler ìƒíƒœ ì¡°í•©                                                              |
| 3   | Status        | `status`           | ë¡œì§ íŒë‹¨                        | xaAMR Task + Handler ìƒíƒœ ì¡°í•©                                                              |
| 4   | Connected     | `connectedTime`    | **Redis HGET** + **AMR API** | `AirlineMessageHandlerStatus` â†’ `ConnectedTime`<br>`AMR startedTime` -> `ConnectedTime` |
| 5   | Disconnected  | `disconnectedTime` | **Redis HGET**               | `AirlineMessageHandlerStatus` â†’ `DisconnectedTime`                                      |
| 6   | Last Received | `lastReceivedTime` | **Redis HGET**               | `AirlineMessageHandlerStatus` â†’ `LastReceivedTime`                                      |
| 9   | PAXLST        | `paxlstCount`      | **Redis HGET**               | `AirlineMessageHandlerStatus` â†’ `PAXLSTMessageCount`                                    |
| 10  | CUSRES        | `cusresCount`      | **Redis HGET**               | `AirlineMessageHandlerStatus` â†’ `CUSRESMessageCount`                                    |
| 11  | Error         | `errorCount`       | **Redis HGET**               | `AirlineMessageHandlerStatus` â†’ `Reject1MessageCount`                                   |
| 12  | Timeout       | `timeoutCount`     | **Redis HGET**               | `AirlineMessageHandlerStatus` â†’ `Reject2MessageCount`                                   |
| 13  | Processing    | `pendingCount`     | **backend**                  | PAXLST - CUSRES - error - Timeout                                                       |

## Type ê²°ì •

| xaAMR MQ | xaAMR MATIP | Redis Handler | Type          | Status    |
| -------- | ----------- | ------------- | ------------- | --------- |
| Running  | -           | -             | AMR-MQ        | Running   |
| Disabled | -           | ìˆìŒ            | Handler-MATIP | Connected |
| Disabled | -           | ì—†ìŒ            | AMR-MQ        | Disabled  |
| -        | Running     | -             | AMR-MATIP     | Running   |
| -        | Disabled    | ìˆìŒ            | Handler-MATIP | Connected |
| -        | Disabled    | ì—†ìŒ            | AMR-MATIP     | Disabled  |
| -        | -           | ìˆìŒ            | Handler-MATIP | Connected |


## ë°±ì—”ë“œ API ì „ì²´ ëª©ë¡

### 1. AuthController (`/api/auth`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`POST /login`|ë¡œê·¸ì¸|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`POST /logout`|ë¡œê·¸ì•„ì›ƒ|-|âœ… ì‚¬ìš© ì¤‘|
|`POST /refresh`|í† í° ê°±ì‹ |MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`GET /me`|ë‚´ ì •ë³´ ì¡°íšŒ|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|

---

### 2. UserController (`/api/users`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /`|ì‚¬ìš©ì ëª©ë¡|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`GET /{id}`|ì‚¬ìš©ì ìƒì„¸|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`POST /`|ì‚¬ìš©ì ìƒì„±|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`PUT /{id}`|ì‚¬ìš©ì ìˆ˜ì •|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`DELETE /{id}`|ì‚¬ìš©ì ì‚­ì œ|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|
|`PUT /{id}/password`|ë¹„ë°€ë²ˆí˜¸ ë³€ê²½|MySQL (users)|âœ… ì‚¬ìš© ì¤‘|

---

### 3. MessageController (`/api/messages`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`POST /search`|ë©”ì‹œì§€ ê²€ìƒ‰|MySQL (IAPP)|âœ… ì‚¬ìš© ì¤‘|
|`POST /stats`|ë©”ì‹œì§€ í†µê³„|MySQL (IAPP)|âœ… ì‚¬ìš© ì¤‘|

---

### 4. ArincIntegratorController (`/api/arinc-integrator`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /alarms`|ì•ŒëŒ ëª©ë¡ ì¡°íšŒ|ì™¸ë¶€ API (Integrator)|âœ… ì‚¬ìš© ì¤‘|
|`GET /alarms/{id}`|ì•ŒëŒ ìƒì„¸ ì¡°íšŒ|ì™¸ë¶€ API (Integrator)|âœ… ì‚¬ìš© ì¤‘|
|`POST /alarms`|ì•ŒëŒ ìƒì„±|ì™¸ë¶€ API (Integrator)|âœ… ì‚¬ìš© ì¤‘|

---

### 5. XaamrController (`/api/xaamr`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /status`|ì‹œìŠ¤í…œ ìƒíƒœ ìš”ì•½|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /matip`|MATIP Broker ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /mq`|MQâ†’xaAMR ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /mq-out`|xaAMRâ†’MQ ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /nodejs-in`|xaAMRâ†’Redis ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /nodejs-out`|Redisâ†’xaAMR ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /scripts/nodejs-to-queue`|RedisToQueue ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /scripts/queue-to-nodejs`|QueueToRedis ìŠ¤í¬ë¦½íŠ¸ ëª©ë¡|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /scripts/nodejs-to-queue/{name}`|RedisToQueue ìŠ¤í¬ë¦½íŠ¸ ìƒì„¸|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /scripts/queue-to-nodejs/{name}`|QueueToRedis ìŠ¤í¬ë¦½íŠ¸ ìƒì„¸|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /mq/config/input/{taskName}`|MQSeriesToQueue ì„¤ì •|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /mq/config/output/{taskName}`|QueueToMQSeries ì„¤ì •|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /matip/config/{taskName}`|MatipBroker ì„¤ì •|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /queue-names`|í ì´ë¦„ ëª©ë¡|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /queues`|í ê´€ë¦¬ ëª©ë¡|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /process`|ëª¨ë“  ì„œë²„ ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /file-to-queue`|Fileâ†’Queue ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /queue-to-file`|Queueâ†’File ìƒíƒœ|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /file-to-queue/config/{taskName}`|FileToQueue ì„¤ì •|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|
|`GET /queue-to-file/config/{taskName}`|QueueToFile ì„¤ì •|ì™¸ë¶€ API (xaAMR)|âœ… ì‚¬ìš© ì¤‘|

---

### 6. HandlerController (`/api/handler`)

| API                                                       | ê¸°ëŠ¥             | ë°ì´í„°ì†ŒìŠ¤           | ìƒíƒœ      |
| --------------------------------------------------------- | -------------- | --------------- | ------- |
| `GET /summary`                                            | í”„ë¡œì„¸ìŠ¤ ìš”ì•½        | -               | ğŸŸ¡ TODO |
| `GET /ruby`                                               | Handler ëª©ë¡     | -               | ğŸŸ¡ TODO |
| `GET /ruby/{serviceName}`                                 | Handler ìƒì„¸     | -               | ğŸŸ¡ TODO |
| `GET /immigration`                                        | Immigration ìƒíƒœ | -               | ğŸŸ¡ TODO |
| `GET /config/{server}`                                    | Config ì¡°íšŒ      | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `GET /config/{server}/raw`                                | YAML ì›ë³¸ ì¡°íšŒ     | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `PUT /config/{server}/raw`                                | YAML ì›ë³¸ ì €ì¥     | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `PUT /config/{server}`                                    | Config ì €ì¥      | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `GET /config/{server}/services`                           | ì„œë¹„ìŠ¤ ëª©ë¡         | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `GET /config/{server}/services/{name}`                    | ì„œë¹„ìŠ¤ ìƒì„¸         | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `POST /config/{server}/services`                          | ì„œë¹„ìŠ¤ ì¶”ê°€         | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `PUT /config/{server}/services/{name}`                    | ì„œë¹„ìŠ¤ ìˆ˜ì •         | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `DELETE /config/{server}/services/{name}`                 | ì„œë¹„ìŠ¤ ì‚­ì œ         | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `POST /config/{server}/services/{name}/airlines`          | Airline ì¶”ê°€     | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `DELETE /config/{server}/services/{name}/airlines/{code}` | Airline ì‚­ì œ     | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `PUT /config/{server}/settings`                           | ì„¤ì • ìˆ˜ì •          | SSH (YAML íŒŒì¼)   | âœ… ì‚¬ìš© ì¤‘  |
| `GET /process/{server}/status`                            | í”„ë¡œì„¸ìŠ¤ ìƒíƒœ        | SSH (systemctl) | âœ… ì‚¬ìš© ì¤‘  |
| `GET /process/{server}/{name}/status`                     | íŠ¹ì • í”„ë¡œì„¸ìŠ¤ ìƒíƒœ     | SSH (systemctl) | âœ… ì‚¬ìš© ì¤‘  |
| `POST /process/{server}/{name}/start`                     | ì„œë¹„ìŠ¤ ì‹œì‘         | SSH (systemctl) | âœ… ì‚¬ìš© ì¤‘  |
| `POST /process/{server}/{name}/stop`                      | ì„œë¹„ìŠ¤ ì¤‘ì§€         | SSH (systemctl) | âœ… ì‚¬ìš© ì¤‘  |
| `POST /process/{server}/{name}/restart`                   | ì„œë¹„ìŠ¤ ì¬ì‹œì‘        | SSH (systemctl) | âœ… ì‚¬ìš© ì¤‘  |

---

### 7. DashboardController (`/api/dashboard`)

| API                   | ê¸°ëŠ¥         | ë°ì´í„°ì†ŒìŠ¤         | ìƒíƒœ          |
| --------------------- | ---------- | ------------- | ----------- |
| `GET /summary`        | ëŒ€ì‹œë³´ë“œ ìš”ì•½    | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /summary/prod1`  | PROD1 ìš”ì•½   | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /summary/prod2`  | PROD2 ìš”ì•½   | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /summary/test`   | TEST ìš”ì•½    | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /alerts/recent`  | ìµœê·¼ ì•ŒëŒ      | - (ë¹ˆ ë¦¬ìŠ¤íŠ¸)     | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /disconnected`   | ë¹„ì—°ê²° í˜¸ìŠ¤íŠ¸    | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /hosts`          | ì´ìŠˆ í˜¸ìŠ¤íŠ¸     | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /hosts/all`      | ì „ì²´ í˜¸ìŠ¤íŠ¸     | MySQL (IAPP)  | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /v2/hosts`       | ì „ì²´ í˜¸ìŠ¤íŠ¸ v2  | Redis + xaAMR | âœ… ì‚¬ìš© ì¤‘      |
| `GET /v2/hosts/prod1` | PROD1 í˜¸ìŠ¤íŠ¸  | Redis + xaAMR | âœ… ì‚¬ìš© ì¤‘      |
| `GET /v2/hosts/prod2` | PROD2 í˜¸ìŠ¤íŠ¸  | Redis + xaAMR | âœ… ì‚¬ìš© ì¤‘      |
| `GET /v2/hosts/test`  | TEST í˜¸ìŠ¤íŠ¸   | Redis + xaAMR | âœ… ì‚¬ìš© ì¤‘      |
| `GET /localmq`        | LocalMQ í†µê³„ | í•˜ë“œì½”ë”© mock     | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |
| `GET /pfms/session`   | PFMS ì„¸ì…˜    | - (ë¹ˆ ë§µ)       | ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš© |

---

### 8. AirlineController (`/api/airlines`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /`|í•­ê³µì‚¬ ì—°ê²° ëª©ë¡|MySQL (IAPP)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|
|`GET /{serviceCode}`|í•­ê³µì‚¬ ìƒì„¸|MySQL (IAPP)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|
|`GET /status`|ì„œë¹„ìŠ¤ í˜„í™© ìš”ì•½|MySQL (IAPP)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|

---

### 9. AlertController (`/api/alerts`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /`|ì•ŒëŒ ëª©ë¡|-|ğŸŸ¡ TODO|
|`GET /active`|í™œì„± ì•ŒëŒ|-|ğŸŸ¡ TODO|
|`GET /stats`|ì•ŒëŒ í†µê³„|-|ğŸŸ¡ TODO|
|`PUT /{id}/resolve`|ì•ŒëŒ í•´ê²°|-|ğŸŸ¡ TODO|
|`GET /queue-status`|Alertmanager í ìƒíƒœ|Memory (Queue)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|
|`POST /test`|í…ŒìŠ¤íŠ¸ Alert ì „ì†¡|ì™¸ë¶€ API (Alertmanager)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|

---

### 10. ImmigrationController (`/api/immigration`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /status`|ëª¨ë“  ì„œë²„ Immigration ìƒíƒœ|SSH (í”„ë¡œì„¸ìŠ¤ ì²´í¬)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|
|`GET /status/{server}`|íŠ¹ì • ì„œë²„ Immigration ìƒíƒœ|SSH (í”„ë¡œì„¸ìŠ¤ ì²´í¬)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|
|`POST /refresh`|ìƒíƒœ ìˆ˜ë™ ê°±ì‹ |SSH (í”„ë¡œì„¸ìŠ¤ ì²´í¬)|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|

---

### 11. StatsController (`/api/stats`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /messages`|ë©”ì‹œì§€ ìš”ì•½ í†µê³„|í•˜ë“œì½”ë”© mock|ğŸŸ¡ TODO|
|`GET /hourly`|ì‹œê°„ë³„ ì²˜ë¦¬ëŸ‰|í•˜ë“œì½”ë”© mock|ğŸŸ¡ TODO|
|`GET /services`|ì„œë¹„ìŠ¤ë³„ ì²˜ë¦¬ëŸ‰|í•˜ë“œì½”ë”© mock|ğŸŸ¡ TODO|

---

### 12. SettingsController (`/api/settings`)

|API|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`GET /servers`|ì„œë²„ ëª©ë¡|í•˜ë“œì½”ë”© mock|ğŸŸ¡ TODO|
|`POST /servers`|ì„œë²„ ì¶”ê°€/ìˆ˜ì •|-|ğŸŸ¡ TODO|
|`DELETE /servers/{name}`|ì„œë²„ ì‚­ì œ|-|ğŸŸ¡ TODO|
|`GET /slack`|Slack ì„¤ì • ì¡°íšŒ|í•˜ë“œì½”ë”© mock|ğŸŸ¡ TODO|
|`PUT /slack`|Slack ì„¤ì • ì €ì¥|-|ğŸŸ¡ TODO|
|`POST /slack/test`|Slack í…ŒìŠ¤íŠ¸|-|ğŸŸ¡ TODO|
|`GET /alert-rules`|ì•ŒëŒ ê·œì¹™ ëª©ë¡|í•˜ë“œì½”ë”© mock|ğŸŸ¡ TODO|
|`POST /alert-rules`|ì•ŒëŒ ê·œì¹™ ì €ì¥|-|ğŸŸ¡ TODO|

---

### 13. WebSocket

|Topic|ê¸°ëŠ¥|ë°ì´í„°ì†ŒìŠ¤|ìƒíƒœ|
|---|---|---|---|
|`/topic/handler/{server}/status`|ì‹¤ì‹œê°„ í˜¸ìŠ¤íŠ¸ ìƒíƒœ|Redis + xaAMR|âœ… ì‚¬ìš© ì¤‘|
|`/topic/handler/{server}/summary`|ì‹¤ì‹œê°„ ìš”ì•½|Redis + xaAMR|âœ… ì‚¬ìš© ì¤‘|

---

## ìš”ì•½

|ìƒíƒœ|ê°œìˆ˜|ì„¤ëª…|
|---|---|---|
|âœ… ì‚¬ìš© ì¤‘|**~55ê°œ**|í”„ë¡ íŠ¸ì—ì„œ í˜¸ì¶œ|
|ğŸ”µ êµ¬í˜„ë¨, ë¯¸ì‚¬ìš©|**~18ê°œ**|êµ¬í˜„ëì§€ë§Œ í”„ë¡ íŠ¸ ë¯¸ì‚¬ìš©|
|ğŸŸ¡ TODO|**~18ê°œ**|ë¯¸êµ¬í˜„ placeholder|

---

## ë°ì´í„°ì†ŒìŠ¤ ìš”ì•½

| ë°ì´í„°ì†ŒìŠ¤                 | API ê°œìˆ˜ | ì„¤ëª…              |
| --------------------- | ------ | --------------- |
| MySQL (users)         | 10ê°œ    | ì‚¬ìš©ì/ì¸ì¦          |
| MySQL (IAPP)          | 13ê°œ    | ë©”ì‹œì§€, ëŒ€ì‹œë³´ë“œ       |
| Redis                 | 6ê°œ     | ì‹¤ì‹œê°„ Handler ìƒíƒœ  |
| ì™¸ë¶€ API (xaAMR)        | 20ê°œ    | xaAMR ì‹œìŠ¤í…œ       |
| ì™¸ë¶€ API (Integrator)   | 3ê°œ     | ARINC ì•ŒëŒ        |
| ì™¸ë¶€ API (Alertmanager) | 1ê°œ     | Alert ì „ì†¡        |
| SSH                   | 18ê°œ    | Config, í”„ë¡œì„¸ìŠ¤ ì œì–´ |
| í•˜ë“œì½”ë”© mock             | 8ê°œ     | TODO ìƒíƒœ         |