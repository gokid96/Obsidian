


| #   | 컬럼            | 필드                 | 데이터 소스         | 키/API                                                 |
| --- | ------------- | ------------------ | -------------- | ----------------------------------------------------- |
| 1   | Service       | `service`          | -              | 서비스명 (1A1, 1N 등)                                      |
| 2   | Type          | `type`             | 로직 판단          | xaAMR Task + Handler 상태 조합                            |
| 3   | Status        | `status`           | 로직 판단          | xaAMR Task + Handler 상태 조합                            |
| 4   | Connected     | `connectedTime`    | **Redis HGET** | `AirlineMessageHandlerStatus` → `ConnectedTime`       |
| 5   | Disconnected  | `disconnectedTime` | **Redis HGET** | `AirlineMessageHandlerStatus` → `DisconnectedTime`    |
| 6   | Last Received | `lastReceivedTime` | **Redis HGET** | `AirlineMessageHandlerStatus` → `LastReceivedTime`    |
| 7   | MsgsIn        | `messagesIn`       | **xaAMR API**  | MatipBroker: `msgsIn` / MQSeriesToQueue: `numMsgs`    |
| 8   | MsgsOut       | `messagesOut`      | **xaAMR API**  | MatipBroker: `msgsOut` / QueueToMQSeries: `numMsgs`   |
| 9   | PAXLST        | `paxlstCount`      | **Redis HGET** | `AirlineMessageHandlerStatus` → `PAXLSTMessageCount`  |
| 10  | CUSRES        | `cusresCount`      | **Redis HGET** | `AirlineMessageHandlerStatus` → `CUSRESMessageCount`  |
| 11  | Error         | `errorCount`       | **Redis HGET** | `AirlineMessageHandlerStatus` → `Reject1MessageCount` |
| 12  | Timeout       | `timeoutCount`     | **Redis HGET** | `AirlineMessageHandlerStatus` → `Reject2MessageCount` |
| 13  | Processing    | `pendingCount`     | **Redis LLEN** | `AirlineRequestIDs:Request:{serviceName}:Pending`     |
## Type 결정

| xaAMR MQ | xaAMR MATIP | Redis Handler | Type          | Status    |
| -------- | ----------- | ------------- | ------------- | --------- |
| Running  | -           | -             | AMR-MQ        | Running   |
| Disabled | -           | 있음            | Handler-MATIP | Connected |
| Disabled | -           | 없음            | AMR-MQ        | Disabled  |
| -        | Running     | -             | AMR-MATIP     | Running   |
| -        | Disabled    | 있음            | Handler-MATIP | Connected |
| -        | Disabled    | 없음            | AMR-MATIP     | Disabled  |
| -        | -           | 있음            | Handler-MATIP | Connected |


 1. amr msg in,out 컬럼 없애기
 2. connected 컬럼 amr은 startdtime으로 가져오기 
 3. Processing 컬럼의 값 redis에서 가져오지 않고 PAXLST - CUSRES - error - Timeout = processing 으로 하기