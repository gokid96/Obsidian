# 컬렉션 프레임워크 개요

## 컬렉션이란?
- **데이터를 저장하는 자료구조**들의 모음
- 배열의 한계를 극복 (가변 크기, 다양한 기능)
- `java.util` 패키지

---

## 컬렉션 계층 구조

```
Iterable
└── Collection
    ├── List (순서 O, 중복 O)
    │   ├── ArrayList
    │   ├── LinkedList
    │   └── Vector
    │
    ├── Set (순서 X, 중복 X)
    │   ├── HashSet
    │   ├── LinkedHashSet
    │   └── TreeSet
    │
    └── Queue (FIFO)
        ├── LinkedList
        ├── PriorityQueue
        └── Deque
            └── ArrayDeque

Map (키-값 쌍, Collection 상속 X)
├── HashMap
├── LinkedHashMap
├── TreeMap
└── Hashtable
```

---

## 주요 인터페이스

| 인터페이스 | 특징 | 구현 클래스 |
|-----------|------|------------|
| List | 순서 O, 중복 O, 인덱스 | ArrayList, LinkedList |
| Set | 순서 X, 중복 X | HashSet, TreeSet |
| Map | 키-값 쌍, 키 중복 X | HashMap, TreeMap |
| Queue | FIFO, 대기열 | LinkedList, PriorityQueue |

---

## Collection 인터페이스 주요 메서드

### 추가
```java
boolean add(E e)           // 요소 추가
boolean addAll(Collection) // 컬렉션 전체 추가
```

### 삭제
```java
boolean remove(Object o)      // 요소 삭제
boolean removeAll(Collection) // 컬렉션 요소 모두 삭제
void clear()                  // 전체 삭제
```

### 조회
```java
int size()                    // 요소 개수
boolean isEmpty()             // 비어있는지
boolean contains(Object o)    // 포함 여부
boolean containsAll(Collection) // 전체 포함 여부
```

### 변환
```java
Object[] toArray()            // 배열로 변환
<T> T[] toArray(T[] a)        // 타입 지정 배열로 변환
```

### 순회
```java
Iterator<E> iterator()        // 반복자 반환
```

---

## 배열 vs 컬렉션

| 구분 | 배열 | 컬렉션 |
|------|------|--------|
| 크기 | 고정 | 가변 |
| 타입 | 기본/참조 | 참조만 (Wrapper) |
| 기능 | 제한적 | 풍부 |
| 성능 | 빠름 | 약간 느림 |
| 다차원 | 지원 | 제한적 |

```java
// 배열
int[] arr = new int[10];  // 크기 고정
arr[0] = 1;

// 컬렉션
List<Integer> list = new ArrayList<>();  // 가변 크기
list.add(1);
```

---

## 순회 방법

### for-each
```java
List<String> list = Arrays.asList("A", "B", "C");

for (String item : list) {
    System.out.println(item);
}
```

### Iterator
```java
Iterator<String> it = list.iterator();
while (it.hasNext()) {
    String item = it.next();
    System.out.println(item);
}
```

### forEach (Java 8+)
```java
list.forEach(item -> System.out.println(item));
list.forEach(System.out::println);
```

---

## 제네릭과 컬렉션

### 타입 안전성
```java
// 제네릭 없이 (위험)
List list = new ArrayList();
list.add("Hello");
list.add(123);  // 혼합 가능
String s = (String) list.get(1);  // 런타임 에러

// 제네릭 사용 (안전)
List<String> list = new ArrayList<>();
list.add("Hello");
// list.add(123);  // 컴파일 에러
String s = list.get(0);  // 캐스팅 불필요
```

### 다이아몬드 연산자 (Java 7+)
```java
// Java 7 이전
List<String> list = new ArrayList<String>();

// Java 7+
List<String> list = new ArrayList<>();  // 타입 추론
```

---

## 불변 컬렉션 (Java 9+)

### List.of()
```java
List<String> list = List.of("A", "B", "C");
// list.add("D");  // UnsupportedOperationException
```

### Set.of()
```java
Set<Integer> set = Set.of(1, 2, 3);
```

### Map.of()
```java
Map<String, Integer> map = Map.of("A", 1, "B", 2);
```

---

## 선택 가이드

### List 선택
- **ArrayList**: 조회 많음, 기본 선택
- **LinkedList**: 삽입/삭제 많음

### Set 선택
- **HashSet**: 기본 선택, 빠름
- **LinkedHashSet**: 순서 유지 필요
- **TreeSet**: 정렬 필요

### Map 선택
- **HashMap**: 기본 선택, 빠름
- **LinkedHashMap**: 순서 유지 필요
- **TreeMap**: 키 정렬 필요

### Queue 선택
- **LinkedList**: 기본 큐
- **ArrayDeque**: 스택/덱
- **PriorityQueue**: 우선순위 큐

---

> [!tip] 핵심 정리
> - **List**: 순서 O, 중복 O (ArrayList, LinkedList)
> - **Set**: 순서 X, 중복 X (HashSet, TreeSet)
> - **Map**: 키-값 쌍 (HashMap, TreeMap)
> - **Queue**: FIFO (LinkedList, PriorityQueue)
> - 제네릭으로 타입 안전성 확보
> - 상황에 맞는 구현체 선택

---

#Java #컬렉션 #Collection #자료구조
