## 개요

- 변수에 값을 **저장(대입)**하는 연산자
- 기본 대입 `=`과 복합 대입 연산자

---

## 기본 대입 연산자 (=)

### 기본 사용

```java
int a = 10;        // 10을 a에 대입
String name = "홍길동";
boolean flag = true;
```

### 연속 대입

```java
int a, b, c;
a = b = c = 10;  // 오른쪽부터 대입

// 동작 순서:
// c = 10   → c는 10
// b = c    → b는 10
// a = b    → a는 10
```

### 대입 연산자의 반환값

```java
int a;
int b = (a = 10);  // a에 10 대입 후, 그 값(10)을 b에 대입

System.out.println(a);  // 10
System.out.println(b);  // 10

// 조건문에서 활용 (권장하지 않음)
String line;
// while ((line = reader.readLine()) != null) { }
```

---

## 복합 대입 연산자

### 종류

|연산자|의미|예시|동일한 표현|
|---|---|---|---|
|`+=`|더하고 대입|`a += 5`|`a = a + 5`|
|`-=`|빼고 대입|`a -= 5`|`a = a - 5`|
|`*=`|곱하고 대입|`a *= 5`|`a = a * 5`|
|`/=`|나누고 대입|`a /= 5`|`a = a / 5`|
|`%=`|나머지 대입|`a %= 5`|`a = a % 5`|

```java
int a = 10;

a += 5;   // a = 15
a -= 3;   // a = 12
a *= 2;   // a = 24
a /= 4;   // a = 6
a %= 4;   // a = 2
```

### 비트 복합 대입 연산자

|연산자|의미|
|---|---|
|`&=`|AND 후 대입|
|`|=`|
|`^=`|XOR 후 대입|
|`<<=`|왼쪽 시프트 후 대입|
|`>>=`|오른쪽 시프트 후 대입|
|`>>>=`|부호 없는 오른쪽 시프트 후 대입|

```java
int a = 10;  // 1010 (2진수)

a &= 6;   // 1010 & 0110 = 0010 → 2
a |= 5;   // 0010 | 0101 = 0111 → 7
a ^= 3;   // 0111 ^ 0011 = 0100 → 4
```

---

## 복합 대입 연산자의 장점

### 1. 간결한 코드

```java
// 긴 변수명일 때 유용
totalSalesAmount = totalSalesAmount + newSale;  // 길다
totalSalesAmount += newSale;  // 간결

// 배열 요소
array[index] = array[index] + 1;  // 길다
array[index] += 1;  // 간결
array[index]++;     // 더 간결
```

### 2. 자동 형변환

```java
byte b = 10;
// b = b + 5;     // 컴파일 에러! (int로 변환됨)
b = (byte)(b + 5);  // 명시적 캐스팅 필요

// 복합 대입은 자동 캐스팅
b += 5;  // OK! (내부적으로 (byte)(b + 5))
```

```java
short s = 100;
// s = s + 10;    // 에러!
s += 10;          // OK!

char c = 'A';
// c = c + 1;     // 에러!
c += 1;           // OK! ('B')
```

---

## 문자열 += 연산

```java
String str = "Hello";
str += " World";      // "Hello World"
str += "!";           // "Hello World!"

// 숫자도 문자열로 연결
String result = "";
result += 1;          // "1"
result += 2;          // "12"
result += 3;          // "123"
```

### StringBuilder 권장 (반복문)

```java
// 비효율적 (매번 새 String 객체 생성)
String str = "";
for (int i = 0; i < 1000; i++) {
    str += i;  // 느림!
}

// 효율적
StringBuilder sb = new StringBuilder();
for (int i = 0; i < 1000; i++) {
    sb.append(i);
}
String str = sb.toString();
```

---

## = vs == 주의

```java
int a = 10;  // 대입
a == 10;     // 비교 (true)

// 흔한 실수
if (a = 5) { }   // 컴파일 에러! (대입은 int 반환)

// boolean은 컴파일됨 (주의!)
boolean flag = false;
if (flag = true) {  // 대입! 항상 true
    System.out.println("실행됨");  // 항상 실행
}

// 의도한 것이라면 명시적으로
if ((flag = true) == true) { }
```

---

## 실전 예제

### 누적 합계

```java
int sum = 0;
int[] numbers = {1, 2, 3, 4, 5};

for (int num : numbers) {
    sum += num;
}
System.out.println(sum);  // 15
```

### 누적 곱

```java
int product = 1;
for (int i = 1; i <= 5; i++) {
    product *= i;
}
System.out.println(product);  // 120 (5!)
```

### 평균 계산

```java
int total = 0;
int count = 0;
int[] scores = {80, 90, 85, 70, 95};

for (int score : scores) {
    total += score;
    count++;
}
double avg = (double) total / count;
System.out.println(avg);  // 84.0
```

### 토글 (Toggle)

```java
boolean isOn = false;

// XOR로 토글
isOn ^= true;  // true
isOn ^= true;  // false
isOn ^= true;  // true

// 또는
isOn = !isOn;
```

### 비트 플래그

```java
int flags = 0;

// 플래그 설정 (OR)
int READ = 1;    // 001
int WRITE = 2;   // 010
int EXECUTE = 4; // 100

flags |= READ;    // 001
flags |= WRITE;   // 011
flags |= EXECUTE; // 111

// 플래그 해제 (AND NOT)
flags &= ~WRITE;  // 101

// 플래그 확인
boolean canRead = (flags & READ) != 0;  // true
boolean canWrite = (flags & WRITE) != 0;  // false
```

---

## 연산자 우선순위

대입 연산자는 **가장 낮은 우선순위**

```java
int a = 5 + 3 * 2;  
// 1. 3 * 2 = 6
// 2. 5 + 6 = 11
// 3. a = 11

int b = 10;
b += 5 * 2;
// 1. 5 * 2 = 10
// 2. b = b + 10 = 20
```

---

> [!tip] 핵심 정리
> 
> - `=` : 기본 대입 (오른쪽에서 왼쪽으로)
> - `+=`, `-=`, `*=`, `/=`, `%=` : 복합 대입
> - 복합 대입은 **자동 형변환** 포함
> - 문자열 반복 연결은 `StringBuilder` 권장
> - `=`(대입)과 `==`(비교) 혼동 주의!

---

#Java #연산자 #대입연산자 #기초문법