# 메서드 (Method)

## 메서드란?
- 객체의 **동작(기능)**을 정의
- 특정 작업을 수행하는 **코드 블록**
- 재사용성, 모듈화 향상

---

## 메서드 구조

### 기본 형식
```java
접근제한자 반환타입 메서드명(매개변수) {
    // 실행 코드
    return 반환값;
}
```

### 구성 요소
```java
public int add(int a, int b) {
    return a + b;
}
```

| 요소 | 설명 | 예시 |
|------|------|------|
| 접근제한자 | 접근 범위 | public |
| 반환타입 | 반환값의 타입 | int |
| 메서드명 | 메서드 이름 | add |
| 매개변수 | 입력값 | int a, int b |
| return | 반환값 | return a + b |

---

## 반환 타입

### void - 반환값 없음
```java
void printMessage(String msg) {
    System.out.println(msg);
    // return 생략 가능
}

void process() {
    System.out.println("처리 중...");
    return;  // 명시적 종료 (생략 가능)
}
```

### 값 반환
```java
int getAge() {
    return 25;
}

String getName() {
    return "홍길동";
}

boolean isAdult(int age) {
    return age >= 18;
}

int[] getNumbers() {
    return new int[]{1, 2, 3};
}
```

---

## 매개변수

### 매개변수 없음
```java
void sayHello() {
    System.out.println("Hello!");
}
```

### 매개변수 있음
```java
void greet(String name) {
    System.out.println("Hello, " + name);
}

int add(int a, int b) {
    return a + b;
}
```

### 가변 인자 (varargs)
```java
int sum(int... numbers) {
    int total = 0;
    for (int n : numbers) {
        total += n;
    }
    return total;
}

// 사용
sum(1, 2);           // 3
sum(1, 2, 3, 4, 5);  // 15
sum();               // 0
```

---

## 매개변수 전달 방식

### 기본 타입 - 값 복사
```java
void changeValue(int x) {
    x = 100;  // 복사본 변경
}

int a = 10;
changeValue(a);
System.out.println(a);  // 10 (변경 안 됨)
```

### 참조 타입 - 주소 복사
```java
void changeArray(int[] arr) {
    arr[0] = 100;  // 원본 변경됨
}

int[] numbers = {1, 2, 3};
changeArray(numbers);
System.out.println(numbers[0]);  // 100 (변경됨)
```

### 문자열 - 불변이므로 특수
```java
void changeString(String s) {
    s = "변경됨";  // 새 객체 생성
}

String str = "원본";
changeString(str);
System.out.println(str);  // "원본" (변경 안 됨)
```

---

## 메서드 오버로딩

### 같은 이름, 다른 매개변수
```java
class Calculator {
    // 정수 덧셈
    int add(int a, int b) {
        return a + b;
    }
    
    // 정수 3개 덧셈
    int add(int a, int b, int c) {
        return a + b + c;
    }
    
    // 실수 덧셈
    double add(double a, double b) {
        return a + b;
    }
    
    // 문자열 연결
    String add(String a, String b) {
        return a + b;
    }
}
```

### 오버로딩 조건
- 메서드 이름 **동일**
- 매개변수 **개수** 또는 **타입** 다름
- 반환 타입만 다른 것은 **불가**

```java
// 올바른 오버로딩
void print(int n) { }
void print(String s) { }
void print(int a, int b) { }

// 잘못된 오버로딩
int getValue() { }
// double getValue() { }  // 에러! 반환 타입만 다름
```

---

## static 메서드

### 클래스 메서드
- 객체 생성 없이 호출
- 인스턴스 필드/메서드 직접 접근 불가

```java
class MathUtil {
    static int add(int a, int b) {
        return a + b;
    }
    
    static double PI = 3.14159;
}

// 클래스명으로 호출
int result = MathUtil.add(10, 20);
double pi = MathUtil.PI;
```

### static vs 인스턴스 메서드

```java
class Example {
    int instanceField = 10;
    static int staticField = 20;
    
    // 인스턴스 메서드
    void instanceMethod() {
        System.out.println(instanceField);  // OK
        System.out.println(staticField);    // OK
    }
    
    // static 메서드
    static void staticMethod() {
        // System.out.println(instanceField);  // 에러!
        System.out.println(staticField);       // OK
    }
}
```

---

## 재귀 메서드

### 자기 자신 호출
```java
// 팩토리얼
int factorial(int n) {
    if (n <= 1) return 1;  // 종료 조건
    return n * factorial(n - 1);
}

// 피보나치
int fibonacci(int n) {
    if (n <= 1) return n;
    return fibonacci(n - 1) + fibonacci(n - 2);
}
```

### 주의사항
- **종료 조건** 필수
- 깊은 재귀는 **StackOverflowError** 발생

---

## 메서드 체이닝

### this 반환
```java
class StringBuilder {
    private String value = "";
    
    StringBuilder append(String s) {
        value += s;
        return this;
    }
    
    StringBuilder reverse() {
        // 뒤집기 로직
        return this;
    }
    
    String toString() {
        return value;
    }
}

// 체이닝 사용
String result = new StringBuilder()
    .append("Hello")
    .append(" ")
    .append("World")
    .toString();
```

---

## 실전 예제

### 계산기
```java
public class Calculator {
    private int result = 0;
    
    public Calculator add(int n) {
        result += n;
        return this;
    }
    
    public Calculator subtract(int n) {
        result -= n;
        return this;
    }
    
    public Calculator multiply(int n) {
        result *= n;
        return this;
    }
    
    public Calculator divide(int n) {
        if (n != 0) {
            result /= n;
        }
        return this;
    }
    
    public int getResult() {
        return result;
    }
    
    public void reset() {
        result = 0;
    }
}

// 사용
Calculator calc = new Calculator();
int answer = calc.add(10).multiply(2).subtract(5).getResult();  // 15
```

### 문자열 유틸리티
```java
public class StringUtil {
    
    public static boolean isEmpty(String s) {
        return s == null || s.length() == 0;
    }
    
    public static boolean isBlank(String s) {
        return s == null || s.trim().isEmpty();
    }
    
    public static String reverse(String s) {
        if (isEmpty(s)) return s;
        return new StringBuilder(s).reverse().toString();
    }
    
    public static int countChar(String s, char c) {
        if (isEmpty(s)) return 0;
        int count = 0;
        for (char ch : s.toCharArray()) {
            if (ch == c) count++;
        }
        return count;
    }
}

// 사용
StringUtil.isEmpty("");          // true
StringUtil.reverse("Hello");     // "olleH"
StringUtil.countChar("banana", 'a');  // 3
```

---

## 메서드 명명 규칙

### 관례
| 동작 | 접두어 | 예시 |
|------|--------|------|
| 조회 | get | getName(), getAge() |
| 설정 | set | setName(), setAge() |
| 판별 | is/has/can | isEmpty(), hasNext(), canRead() |
| 생성 | create/new | createUser(), newInstance() |
| 변환 | to | toString(), toArray() |
| 찾기 | find/search | findById(), searchByName() |

---

> [!tip] 핵심 정리
> - **메서드**: 객체의 동작, 코드 재사용
> - **반환 타입**: void(없음) 또는 특정 타입
> - **오버로딩**: 같은 이름, 다른 매개변수
> - **static**: 객체 없이 호출, 인스턴스 접근 불가
> - **가변 인자**: `타입... 변수명`

---

#Java #객체지향 #메서드 #오버로딩 #static
