
## 필드란?
- 클래스 내부에 선언된 **변수**
- 객체의 **속성(상태)**을 저장
- **멤버 변수**라고도 함

---

## 필드 선언

### 기본 형식
```java
public class Person {
    // 필드 선언
    String name;
    int age;
    double height;
    boolean isStudent;
}
```

### 초기값 지정
```java
public class Person {
    String name = "홍길동";
    int age = 20;
    boolean isStudent = true;
}
```

---

## 필드 기본값

초기화하지 않으면 **타입별 기본값** 적용

| 타입 | 기본값 |
|------|--------|
| byte, short, int, long | 0 |
| float, double | 0.0 |
| char | '\u0000' |
| boolean | false |
| 참조 타입 (String, 배열 등) | null |

```java
public class DefaultValues {
    int number;        // 0
    double rate;       // 0.0
    boolean flag;      // false
    String text;       // null
    int[] array;       // null
}
```

---

## 필드 vs 지역 변수

| 구분 | 필드 | 지역 변수 |
|------|------|-----------|
| 선언 위치 | 클래스 블록 | 메서드, 생성자, 블록 내부 |
| 기본값 | 자동 초기화 | 없음 (초기화 필수) |
| 생존 기간 | 객체 존재하는 동안 | 블록 종료 시 소멸 |
| 접근 범위 | 클래스 전체 | 선언된 블록 내부 |

```java
public class Example {
    int field = 10;  // 필드 (기본값 있음)
    
    void method() {
        int local;  // 지역 변수
        // System.out.println(local);  // 에러! 초기화 안 됨
        
        local = 20;  // 초기화
        System.out.println(local);  // OK
        System.out.println(field);  // 필드 접근 가능
    }
}
```

---

## 필드 접근

### 같은 클래스 내부
```java
public class Car {
    int speed = 0;
    
    void accelerate() {
        speed += 10;  // 직접 접근
    }
    
    void showSpeed() {
        System.out.println("속도: " + speed);
    }
}
```

### 외부에서 접근
```java
public class Main {
    public static void main(String[] args) {
        Car car = new Car();
        
        car.speed = 50;  // 필드 접근 (객체.필드)
        System.out.println(car.speed);
        
        car.accelerate();  // 메서드를 통한 접근
    }
}
```

---

## this 키워드

### 현재 객체 참조
```java
public class Person {
    String name;
    int age;
    
    void setInfo(String name, int age) {
        this.name = name;  // this.필드 = 매개변수
        this.age = age;
    }
}
```

### this가 필요한 경우
```java
public class Person {
    String name;
    
    // 매개변수와 필드명이 같을 때
    void setName(String name) {
        this.name = name;  // this 필수
        // name = name;    // 의미 없음 (둘 다 매개변수)
    }
    
    // 매개변수명이 다르면 this 생략 가능
    void setName2(String newName) {
        name = newName;  // this 생략 가능
    }
}
```

### this 활용
```java
public class Calculator {
    int value = 0;
    
    // 메서드 체이닝
    Calculator add(int n) {
        value += n;
        return this;  // 자기 자신 반환
    }
    
    Calculator multiply(int n) {
        value *= n;
        return this;
    }
}

// 사용
Calculator calc = new Calculator();
calc.add(5).multiply(3).add(10);  // 체이닝
System.out.println(calc.value);  // 25
```

---

## 필드의 종류

### 인스턴스 필드
- 객체마다 **별도로** 존재
- 객체 생성 시 메모리 할당

```java
public class Person {
    String name;  // 인스턴스 필드
    int age;      // 인스턴스 필드
}

Person p1 = new Person();
Person p2 = new Person();
p1.name = "홍길동";
p2.name = "김철수";  // 각 객체별로 다른 값
```

### 클래스 필드 (static)
- 모든 객체가 **공유**
- 클래스 로딩 시 메모리 할당

```java
public class Person {
    static int population = 0;  // 클래스 필드
    String name;
    
    Person(String name) {
        this.name = name;
        population++;  // 공유
    }
}

Person p1 = new Person("홍길동");
Person p2 = new Person("김철수");
System.out.println(Person.population);  // 2
```

---

## 상수 필드 (final)

### final 필드
- 한 번 초기화하면 **변경 불가**

```java
public class Circle {
    final double PI = 3.14159;  // 선언 시 초기화
    final int radius;           // 생성자에서 초기화
    
    Circle(int radius) {
        this.radius = radius;
        // this.PI = 3.14;  // 에러! 이미 초기화됨
    }
}
```

### static final (상수)
- 클래스 상수
- 모든 객체가 공유하는 불변 값

```java
public class Math {
    public static final double PI = 3.14159265358979;
    public static final double E = 2.71828;
}

// 사용
double area = Math.PI * radius * radius;
```

---

## 필드 초기화 방법

### 1. 선언 시 초기화
```java
public class Person {
    String name = "무명";
    int age = 0;
}
```

### 2. 생성자에서 초기화
```java
public class Person {
    String name;
    int age;
    
    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

### 3. 초기화 블록
```java
public class Person {
    String name;
    int age;
    
    // 인스턴스 초기화 블록
    {
        name = "무명";
        age = 0;
    }
    
    // 정적 초기화 블록
    static int count;
    static {
        count = 0;
    }
}
```

### 초기화 순서
1. 기본값 (0, null 등)
2. 선언 시 초기화
3. 초기화 블록
4. 생성자

---

## 실전 예제

### 상품 클래스
```java
public class Product {
    // 상수
    static final double TAX_RATE = 0.1;
    
    // 클래스 필드
    static int totalProducts = 0;
    
    // 인스턴스 필드
    String name;
    int price;
    int stock;
    
    Product(String name, int price, int stock) {
        this.name = name;
        this.price = price;
        this.stock = stock;
        totalProducts++;
    }
    
    // 세금 포함 가격
    double getPriceWithTax() {
        return price * (1 + TAX_RATE);
    }
    
    void showInfo() {
        System.out.println("상품: " + name);
        System.out.println("가격: " + price + "원");
        System.out.println("재고: " + stock + "개");
    }
}
```

---

> [!tip] 핵심 정리
> - **필드**: 클래스 내부의 변수, 객체의 상태 저장
> - **기본값**: 자동 초기화됨 (지역 변수는 X)
> - **this**: 현재 객체 참조, 필드와 매개변수 구분
> - **인스턴스 필드**: 객체마다 별도
> - **static 필드**: 모든 객체 공유
> - **final 필드**: 변경 불가

---

#Java #객체지향 #필드 #멤버변수 #this
