# 추상화 - 추상 클래스 (Abstract Class)

## 추상화란?
- **공통된 특성**을 추출하여 상위 개념으로 정의
- **세부 구현을 숨기고** 핵심만 노출
- 복잡성을 줄이고 코드 재사용성 향상

---

## 추상 클래스

### abstract 키워드
```java
abstract class Animal {
    String name;
    
    // 일반 메서드
    void eat() {
        System.out.println(name + " 먹습니다");
    }
    
    // 추상 메서드 - 구현 없음
    abstract void sound();
}
```

### 특징
- `abstract` 키워드 사용
- **인스턴스 생성 불가**
- 추상 메서드 포함 가능 (선택)
- 일반 필드, 메서드, 생성자 포함 가능

```java
// Animal animal = new Animal();  // 에러! 인스턴스 생성 불가
Animal animal = new Dog();  // OK - 자식 객체로 참조
```

---

## 추상 메서드

### 선언만, 구현 없음
```java
abstract class Shape {
    // 추상 메서드: 선언만 (중괄호 없음)
    abstract double getArea();
    abstract double getPerimeter();
    
    // 일반 메서드: 구현 있음
    void display() {
        System.out.println("면적: " + getArea());
    }
}
```

### 자식 클래스에서 구현
```java
class Circle extends Shape {
    double radius;
    
    Circle(double radius) {
        this.radius = radius;
    }
    
    @Override
    double getArea() {
        return Math.PI * radius * radius;
    }
    
    @Override
    double getPerimeter() {
        return 2 * Math.PI * radius;
    }
}

class Rectangle extends Shape {
    double width, height;
    
    Rectangle(double width, double height) {
        this.width = width;
        this.height = height;
    }
    
    @Override
    double getArea() {
        return width * height;
    }
    
    @Override
    double getPerimeter() {
        return 2 * (width + height);
    }
}
```

---

## 추상 클래스 상속

### 모든 추상 메서드 구현 필수
```java
abstract class Animal {
    abstract void sound();
    abstract void move();
}

// 모두 구현해야 함
class Dog extends Animal {
    @Override
    void sound() {
        System.out.println("멍멍");
    }
    
    @Override
    void move() {
        System.out.println("달립니다");
    }
}

// 일부만 구현하면 추상 클래스
abstract class Bird extends Animal {
    @Override
    void move() {
        System.out.println("날아갑니다");
    }
    // sound()는 구현 안 함 → 여전히 추상 클래스
}
```

---

## 추상 클래스 구성 요소

```java
abstract class Vehicle {
    // 일반 필드
    private String brand;
    protected int speed;
    
    // 상수
    public static final int MAX_SPEED = 200;
    
    // 생성자 (자식 생성자에서 호출)
    public Vehicle(String brand) {
        this.brand = brand;
        this.speed = 0;
    }
    
    // 일반 메서드
    public String getBrand() {
        return brand;
    }
    
    public void accelerate() {
        if (speed < MAX_SPEED) {
            speed += 10;
        }
    }
    
    // 추상 메서드
    public abstract void start();
    public abstract void stop();
    
    // static 메서드
    public static void honk() {
        System.out.println("빵빵!");
    }
}
```

---

## 추상 클래스 활용

### 템플릿 메서드 패턴
```java
abstract class DataProcessor {
    // 템플릿 메서드 - 알고리즘 구조 정의
    public final void process() {
        readData();
        processData();
        writeData();
    }
    
    // 추상 메서드 - 자식이 구현
    protected abstract void readData();
    protected abstract void processData();
    protected abstract void writeData();
}

class CSVProcessor extends DataProcessor {
    @Override
    protected void readData() {
        System.out.println("CSV 파일 읽기");
    }
    
    @Override
    protected void processData() {
        System.out.println("CSV 데이터 처리");
    }
    
    @Override
    protected void writeData() {
        System.out.println("CSV 파일 쓰기");
    }
}

class JSONProcessor extends DataProcessor {
    @Override
    protected void readData() {
        System.out.println("JSON 파일 읽기");
    }
    
    @Override
    protected void processData() {
        System.out.println("JSON 데이터 처리");
    }
    
    @Override
    protected void writeData() {
        System.out.println("JSON 파일 쓰기");
    }
}
```

### 공통 기능 + 개별 구현
```java
abstract class Employee {
    protected String name;
    protected int baseSalary;
    
    public Employee(String name, int baseSalary) {
        this.name = name;
        this.baseSalary = baseSalary;
    }
    
    // 공통 기능
    public void work() {
        System.out.println(name + " 일합니다");
    }
    
    // 개별 구현 필요
    public abstract int calculateSalary();
}

class FullTimeEmployee extends Employee {
    public FullTimeEmployee(String name, int baseSalary) {
        super(name, baseSalary);
    }
    
    @Override
    public int calculateSalary() {
        return baseSalary;
    }
}

class PartTimeEmployee extends Employee {
    private int hoursWorked;
    
    public PartTimeEmployee(String name, int hourlyRate, int hours) {
        super(name, hourlyRate);
        this.hoursWorked = hours;
    }
    
    @Override
    public int calculateSalary() {
        return baseSalary * hoursWorked;
    }
}
```

---

## 추상 클래스 vs 인터페이스

| 구분 | 추상 클래스 | 인터페이스 |
|------|------------|-----------|
| 키워드 | abstract class | interface |
| 다중 상속 | 불가 (단일 상속) | 가능 |
| 생성자 | 있음 | 없음 |
| 필드 | 모든 종류 | public static final만 |
| 메서드 | 모든 종류 | public abstract (기본) |
| 목적 | IS-A 관계, 공통 구현 | CAN-DO 관계, 규약 정의 |

### 선택 기준
- **추상 클래스**: 관련된 클래스들의 공통 코드 공유
- **인터페이스**: 관련 없는 클래스들에 공통 기능 부여

```java
// 추상 클래스: Animal 계층 구조
abstract class Animal { }
class Dog extends Animal { }
class Cat extends Animal { }

// 인터페이스: 서로 다른 클래스에 기능 부여
interface Flyable { void fly(); }
class Bird implements Flyable { }
class Airplane implements Flyable { }
class Superhero implements Flyable { }
```

---

## 주의사항

### 1. 추상 클래스는 인스턴스 불가
```java
// abstract class Animal { }
// Animal a = new Animal();  // 에러!
```

### 2. 추상 메서드는 private 불가
```java
abstract class Example {
    // private abstract void method();  // 에러!
    protected abstract void method();  // OK
}
```

### 3. 추상 클래스가 추상 메서드 없어도 됨
```java
abstract class NoAbstractMethod {
    void normalMethod() {
        System.out.println("일반 메서드");
    }
}
// 인스턴스 생성만 막고 싶을 때 사용
```

---

> [!tip] 핵심 정리
> - **추상 클래스**: `abstract class`, 인스턴스 생성 불가
> - **추상 메서드**: 선언만, 자식이 구현 필수
> - 일반 필드, 메서드, 생성자 포함 가능
> - **템플릿 메서드 패턴**에 활용
> - 인터페이스와 목적에 따라 선택

---

#Java #객체지향 #추상화 #추상클래스 #abstract
