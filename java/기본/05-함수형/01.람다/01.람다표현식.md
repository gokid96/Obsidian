# 람다 (Lambda)

## 람다란?

익명 함수를 간결하게 표현하는 방법. Java 8부터 도입.
```java
// 기존 방식
Runnable r1 = new Runnable() {
    @Override
    public void run() {
        System.out.println("Hello");
    }
};

// 람다
Runnable r2 = () -> System.out.println("Hello");
```

## 기본 문법
```java
(매개변수) -> { 실행문 }
```

| 상황       | 문법                                 |
| -------- | ---------------------------------- |
| 매개변수 없음  | `() -> { ... }`                    |
| 매개변수 1개  | `x -> { ... }` 또는 `(x) -> { ... }` |
| 매개변수 여러개 | `(x, y) -> { ... }`                |
| 실행문 1줄   | `x -> x * 2` (중괄호, return 생략)      |
| 실행문 여러줄  | `x -> { ...; return ...; }`        |

## 함수형 인터페이스

람다는 **함수형 인터페이스**에만 사용 가능 (추상 메서드가 1개인 인터페이스)
```java
@FunctionalInterface  // 컴파일러가 검증
interface Calculator {
    int calc(int a, int b);
}

Calculator add = (a, b) -> a + b;
Calculator mul = (a, b) -> a * b;
```

## 주요 기본 함수형 인터페이스

| 인터페이스 | 메서드 | 용도 |
|-----------|--------|------|
| `Supplier<T>` | `T get()` | 값 제공 |
| `Consumer<T>` | `void accept(T)` | 값 소비 |
| `Function<T,R>` | `R apply(T)` | 변환 |
| `Predicate<T>` | `boolean test(T)` | 조건 검사 |
| `BiFunction<T,U,R>` | `R apply(T,U)` | 두 값 변환 |
| `UnaryOperator<T>` | `T apply(T)` | 같은 타입 변환 |
| `BinaryOperator<T>` | `T apply(T,T)` | 두 값 → 같은 타입 |
```java
Supplier<Double> random = () -> Math.random();
Consumer<String> print = s -> System.out.println(s);
Function<String, Integer> length = s -> s.length();
Predicate<Integer> isPositive = n -> n > 0;
```

## 메서드 참조

람다를 더 간결하게 표현

| 종류 | 문법 | 예시 |
|------|------|------|
| 정적 메서드 | `클래스::메서드` | `Integer::parseInt` |
| 인스턴스 메서드 | `객체::메서드` | `System.out::println` |
| 특정 타입 인스턴스 메서드 | `타입::메서드` | `String::length` |
| 생성자 | `클래스::new` | `ArrayList::new` |
```java
// 람다 vs 메서드 참조
list.forEach(s -> System.out.println(s));
list.forEach(System.out::println);  // 메서드 참조

// 생성자 참조
Supplier<List<String>> listFactory = ArrayList::new;
```

## 변수 캡처

람다에서 외부 변수 사용 시 **effectively final**이어야 함
```java
int num = 10;  // final 또는 effectively final
Consumer<Integer> add = x -> System.out.println(x + num);
// num = 20;  // 컴파일 에러! 변경 불가
```

## 활용 예시
```java
List<String> names = Arrays.asList("Kim", "Lee", "Park");

// 정렬
names.sort((a, b) -> a.compareTo(b));
names.sort(String::compareTo);

// 필터링 + 출력
names.stream()
     .filter(n -> n.length() > 2)
     .forEach(System.out::println);
```