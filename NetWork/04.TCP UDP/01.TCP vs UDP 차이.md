

## 비교표

|구분|TCP|UDP|
|---|---|---|
|연결 방식|연결 지향 (Connection-oriented)|비연결 (Connectionless)|
|신뢰성|보장 (재전송, 순서 보장)|미보장|
|속도|상대적으로 느림|빠름|
|헤더 크기|20~60 bytes|8 bytes|
|흐름 제어|O|X|
|혼잡 제어|O|X|
|사용 예|HTTP, FTP, SSH, 이메일|DNS, DHCP, 스트리밍, 게임|

## TCP 특징

- **신뢰성**: 데이터 손실 시 재전송
- **순서 보장**: 시퀀스 번호로 순서 맞춤
- **흐름 제어**: 수신자 버퍼 고려
- **혼잡 제어**: 네트워크 상태 고려

## UDP 특징

- **빠름**: 연결 설정/해제 없음
- **가벼움**: 헤더 8바이트
- **실시간성**: 지연보다 속도 우선
- **브로드캐스트/멀티캐스트** 지원

## TCP 헤더 구조

```
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|          Source Port          |       Destination Port        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Sequence Number                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Acknowledgment Number                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Data |       |U|A|P|R|S|F|                                   |
| Offset|       |R|C|S|S|Y|I|            Window                 |
|       |       |G|K|H|T|N|N|                                   |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```

## UDP 헤더 구조

```
 0      7 8     15 16    23 24    31
+--------+--------+--------+--------+
|     Source      |   Destination   |
|      Port       |      Port       |
+--------+--------+--------+--------+
|     Length      |    Checksum     |
+--------+--------+--------+--------+
|          data octets ...          |
+-----------------------------------+
```

## 언제 뭘 쓸까?

|TCP 사용|UDP 사용|
|---|---|
|파일 전송|실시간 스트리밍|
|웹 (HTTP)|온라인 게임|
|이메일|VoIP|
|데이터베이스|DNS 조회|